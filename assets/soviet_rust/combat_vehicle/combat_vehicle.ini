[core]
copyFrom:ROOT:res/drawable/unitrepaireffect.template
name:combat_vehicle
displayText:战斗载具
displayDescription:-移速较快且反步兵 \n-可以改装 \n-可搭载2个射击员
class:CustomUnitMetadata
price:300
maxHp:100
mass:3000
techLevel:1
buildSpeed:8.3s
tags:default,combat_vehicle_tag
radius:10
displayRadius:9
softCollisionOnAll:0
autoTriggerCooldownTime:0.25s
maxTransportingUnits:2
transportUnitsRequireTag:soldier,soldiers,EkInfantry,Infantry,步兵,小兵,轻甲
transportUnitsCanUnloadUnits:if not self.isControlledByAI()
[attachment_subcombat1]
x:5
y:5
isVisible:false
addTransportedUnits:true
createIncompleteIfParentIs:true
[attachment_subcombat2]
x:-5
y:5
isVisible:false
addTransportedUnits:true
createIncompleteIfParentIs:true
[hiddenAction_hpinput]
autoTrigger:if self.hp(lessThan=100)
[action_retrofit1]
text:改装 - 坦克炮
displayType:Upgrade
buildSpeed:0.008
pos:0.2
whenBuilding_cannotMove:true
iconExtraImage:SHARED:icon_upgrade.png
descriptionAddUnitStats:${section.convertTo}
description:提升火力
price:100
convertTo:combat_vehicle_case2
isActive:if numberOfUnitsInTeam(withinRange=200,greaterThan=0,withTag='retrofit-light') or numberOfUnitsInTeam(withinRange=200,greaterThan=0,withTag='retrofit-heavy')
isVisible:if numberOfUnitsInTeam(withinRange=200,greaterThan=0,withTag='retrofit-light') or numberOfUnitsInTeam(withinRange=200,greaterThan=0,withTag='retrofit-heavy')
[hiddenAction_nottransporrt]
autoTrigger:if self.transportingCount(greaterThan=1)
temporarilyRemoveTags:combat_vehicle_tag
[hiddenAction_allowtransport]
autoTrigger:if self.transportingCount(lessThan=2)
temporarilyAddTags:combat_vehicle_tag
[graphics]
total_frames:2
teamColorsOnTurret:true
image:combat_vehicle.png
image_wreak:NONE
image_turret:combat_vehicle_turret.png
imageScale:0.7
turretImageScale:0.8
image_shadow:AUTO
shadowOffsetX:1
shadowOffsetY:1
animation_moving_start:0
animation_moving_end:1
animation_moving_speed:1
dustEffect:true
[attack]
canAttack:true
canAttackFlyingUnits:false
canAttackLandUnits:true
canAttackUnderwaterUnits:false
turretSize:13
turretTurnSpeed:99
maxAttackRange:140
shootDelay:20
aimOffsetSpread:0
[turret_1]
x:0
y:-5.5
projectile:1
turnSpeedAcceleration:1.0
shoot_sound:gun_fire
shoot_sound_vol:0.4
shoot_flame:small
shoot_light:#FFEECCCC
[projectile_1]
directDamage:0
areaDamage:5
areaRadius:20
life:60
speed:7
frame:5
explodeEffect:NONE
[movement]
movementType:LAND
moveSpeed:1.0
moveAccelerationSpeed:0.07
moveDecelerationSpeed:0.17
maxTurnSpeed:99
moveSlidingMode:true
moveIgnoringBody:false
[ai]
useAsAttacker:true
useAsTransport:false
buildPriority:1